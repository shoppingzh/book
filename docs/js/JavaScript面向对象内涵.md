# JavaScript面向对象内涵

- 前言
- 面向对象导论
- 封装
  - 封装与接口
  - JavaScript中的封装
    - 函数
    - 类
- 对象的构造
- 继承
  - 类的继承
  - 原型的继承


## 前言

几年前，我还是一个Java开发者。学习Java时，第一个要学的概念就是 **面向对象** ，从一开始，我的学习思路就与大众的方式有所不同，我坚信：

**由人创造的概念，最终总是逃脱不了人的思维模式，也与现实世界脱不了钩。**

在学习计算机知识时，我喜欢以自然世界为参考模型，我发现有时候我们理解不了某个概念，就是因为太喜欢自以为是地站在计算机的视角，所以往往不得知识之精髓。

学习本章时，希望读者能多多类比现实世界，将计算机世界与现实世界关联起来。

## 面向对象导论

在C++、Java、C#等这种面向对象语言中，理解“对象”这个概念是第一步。但即便没有这些语言，我们仍然能理解什么对象：

**对象是世界万物。**

面向对象的编程语言中常常说“一切都是对象”，同理，我们现实世界中的一切也都是对象。举个例子，从“我”作为对象的角度去理解，对象有两个关键的特征：

1. **属性**：眼睛、鼻子、头发等物理特征
2. **行为**：吃饭、喝水等动作或行为

属性是 **实体**，在编程语言中对应 **变量** 这个概念；行为是一种 **抽象** 概念，在编程语言中对应 **函数（或方法）** 这个概念。

首先解释一下 **实体** 与 **抽象**，实体是真实的，就像肉体必须有实际的地方安放，同理，变量也需要有一块对应的内存供其存储。

而抽象是“虚无”的，抽象在特定的时间、地点会被具化。这么说可能有点哲，举个例子，以吃饭这个行为为例，当我们在讨论吃饭时，我们真的吃了吗？没有。只有我（对象）今天中午（时间）在饭店（地点）和高启强一起吃猪脚面时，“吃饭”这个行为，才被我（这个对象）具化。

编程语言中经常称函数为封装，函数将一个行为的具体流程封装在内部，调用者只需要按照需求调用函数就可以非常快速地完成这个行为。就像我们每天洗澡，“洗澡”这个行为的整个流程已经在我们脑中形成一个“模板”，这个模板其实就是函数。只有你调用了这个函数，才把这个行为具化了。

**行为的执行过程中往往需要实体参与**， 就像吃饭需要饭菜、筷子、嘴巴等实体参与一样。


## 封装

人们常说函数是封装，又说封装是面向对象概念中的核心之一。各种书籍把“封装”这个概念阐述得天花乱坠，方法论层出不穷，但我觉得，方法固然重要，但一味讲求方法不求思维方式提升的行为，都是本末倒置的。

封装在我们现实世界无处不在，我们使用的任何东西都是封装的结果。举个例子，我正在输入内容的键盘就是一个封装产物，其实没人关心键盘内部是什么构造，使用了什么样的电路，我们只关心键盘是不是我们熟悉的那些键位，是不是一插USB（或连接蓝牙）就可以使用了。这里提到两个重要信息：

- 键位
- 连接方式

这两个其实就是 **封装所抛出的接口** ，封装与接口总是成对出现：**封装是内部实现，而接口是对接使用者的部分** ，封装可以随意更改，但不要破坏接口（不能说因为改造键盘的内部电路把键位调整，也不能说想让传输更有效率，发明了一种新的连接方式）；接口需要稳定，只能平滑升级，不能进行破坏性修改，过多的破坏性修改对使用者而言是一种伤害。


