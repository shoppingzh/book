# 比较算法

在JavaScript中，有这些场景涉及到数据的比较：

* `a == b` 
* `a === b` 
* `Object.is(a, b)` 
* `Set/Map` 等集合中内部判断元素唯一性



在比较时，**主要的差异就是数值的处理**，除了数值类型，其他类型的比较比较简单：

* `undefined = undefined`
* `null = null`
* `true = true` `false = false`
* `'abc' = 'abc'` 
* Symbol、对象判断引用地址是否相等



而数值由于有很多边界值，因此要考虑的问题更多：

* `NaN`  等于 `NaN` 吗？
* `+0` 等于 `-0` 吗？
* `Infinity` 等于 `Infinity` 吗？



在这里，我们暂时不考虑 **宽松相等** ，因为宽松相等的情况非常复杂，



# SameValueNonNumber(x, y)
* 比较细节
   * x、y必须同一类型
   * x、y同为 `undefined` 或 `null` ，返回 `true` 
   * x、y为boolean，则同为 `true` 或 `false` ，返回 `true`
   * x、y为bigint，则使用Bigint的 `equal` 算法
   * x、y为字符串，同样长度且每个索引位置的字符一样，返回 `true`
   * 其他类型则直接判断指针地址，相同，返回 `true`





## SameValue(x, y)
1. 如果类型不同，直接返回 `false`
2. 如果x为数值，则进行下列比较
   1. 如果x、y为 `NaN` ，返回 `true`
   2. 如果x、y分别为 `-0` 或 `+0` ，返回 `false` 

   1. 否则，判断 `x === y`
3. 如果不为数值，则进行 `SameValueNonNumber(x, y)` 比较



## SameValueZero(x, y)
1. 如果x、y类型不同，返回 `false`
2. 如果x为数值，则进行以下比较：
   2. 如果x、y都为 `NaN` ，返回 `true`
   3. 如果x、y分别为 `-0` 、`+0` 或 `+0` 、`-0` ，返回 `true`
   4. 否则，判断 `x === y`
4. 如果不为数值，则进行 `SameValueNonNumber(x, y)` 比较



